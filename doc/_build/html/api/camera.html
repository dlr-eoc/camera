

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Camera &mdash; camera 0.3 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="CamModel" href="cammodel.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../camera.html" class="icon icon-home"> camera
          

          
          </a>

          
            
            
              <div class="version">
                0.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extrinsics.html">Extrinsic Orientation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="cammodel.html">CamModel</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Camera</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../camera.html">camera</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../camera.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">API Reference</a> &raquo;</li>
        
      <li>Camera</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/camera.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="camera">
<h1>Camera<a class="headerlink" href="#camera" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">camera.</code><code class="descname">Camera</code><a class="reference internal" href="../_modules/camera.html#Camera"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>this class provides methods to calculate the projection of a point of interest (poi) from the scene onto the image plane and reverse (reprojection).</p>
<p>If you have a camera and you know a scene objects world position coordinates and the cameras position and viewing angles, 
then with this tool you can calculate the scene object’s pixelposition on your image plane.
Okay, this is maybe a special case and not so often used, but the reverse projection from the image to the world coordinates you might find useful.
But this is a bit tricky, because reprojection needs additional information about the depth.</p>
<p>I needed this kind of image reprojection for detecting and rescueing roe deer fawns in meadows from beeing killed by mowing machines. 
A UAV mounted thermal camera captured images. The fawns are hot spots with just few pixel size.</p>
<p>this lets you get a world map position of a point of interest on your image.</p>
<dl class="attribute">
<dt>
<code class="descname">K</code><em class="property"> = None</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">S</code><em class="property"> = array([[1., 0., 0., 0.],        [0., 1., 0., 0.],        [0., 0., 1., 0.],        [0., 0., 0., 1.]])</em></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">attitudeMat</code><span class="sig-paren">(</span><em>mat</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/camera.html#Camera.attitudeMat"><span class="viewcode-link">[source]</span></a></dt>
<dd><blockquote>
<div>defines the outer orientation of the camera.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mat</strong> (<em>numpy array with shape</em><em> (</em><em>4</em><em>, </em><em>4</em><em>)</em>) – affine transformation matrix</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">void</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">brown</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/camera.html#Camera.brown"><span class="viewcode-link">[source]</span></a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">intrinsics</code><span class="sig-paren">(</span><em>width</em>, <em>height</em>, <em>fx</em>, <em>cx</em>, <em>cy</em>, <em>ar=1.0</em>, <em>skew=0.0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/camera.html#Camera.intrinsics"><span class="viewcode-link">[source]</span></a></dt>
<dd><blockquote>
<div>defines the inner orientation of the camera.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – image width</li>
<li><strong>height</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – image height</li>
<li><strong>fx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – focal length in pixel units (size: dx)</li>
<li><strong>cx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – optical center (x component)</li>
<li><strong>cy</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – optical center (y component)</li>
<li><strong>ar</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – aspect ratio. fy = fx * ar</li>
<li><strong>skew</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.7)"><em>float</em></a>) – shear coefficient between x and y.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">lensdistortion</code><span class="sig-paren">(</span><em>k1=0.0</em>, <em>k2=0.0</em>, <em>p1=0.0</em>, <em>p2=0.0</em>, <em>k3=0.0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/camera.html#Camera.lensdistortion"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>sets the radial and tangential parameters for the brown camera model.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">position</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/camera.html#Camera.position"><span class="viewcode-link">[source]</span></a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the position of the camera in world coordinates</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">3D numpy Array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">project</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/camera.html#Camera.project"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>projects a world 3d-point on the camera plane
returns a 2d point on the imageplane
(except for NOCAM: then its just a 3d-ray )</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">reproject</code><span class="sig-paren">(</span><em>X</em>, <em>distance=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/camera.html#Camera.reproject"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>reprojects a pixel to a 3d-ray</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">reprojectToPlane</code><span class="sig-paren">(</span><em>x</em>, <em>distance</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/camera.html#Camera.reprojectToPlane"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>this is a wrapper for reproject() to get real world coordinates instead of a direction vector.
the direction vector of reproject() intersects a virtual plane with the given distance.
the plane lies in front of the camera and parallel to its focal plane array.
the intersection point will be returned.</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param x:</th><td class="field-body">a numpy 2D-Point (x,y) coordinates of an image</td>
</tr>
<tr class="field-even field"><th class="field-name">param distance:</th><td class="field-body">the distance of the parallel virual intersection plane</td>
</tr>
<tr class="field-odd field"><th class="field-name">type x:</th><td class="field-body">2D numpy array [[x],[y]] (in pixel coordinates)</td>
</tr>
<tr class="field-even field"><th class="field-name">type distance:</th><td class="field-body">float (in world coordinates e.g. in meter)</td>
</tr>
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">the reprojected Point in 3D world coordinates. returns [[None],[None],[None]] 
if no intersection or plane is not in front of the camera.</td>
</tr>
<tr class="field-even field"><th class="field-name">rtype:</th><td class="field-body">3D numpy Array [[X][Y][Z]] (in world coordinates)</td>
</tr>
</tbody>
</table>
</div></blockquote>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="cammodel.html" class="btn btn-neutral" title="CamModel" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Martin Israel

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'0.3',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>